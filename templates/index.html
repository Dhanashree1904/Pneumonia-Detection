<!DOCTYPE html>
<html>
<head>
    <title>Chest X-Ray Pneumonia Detection</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <div class="card">
            <h1>Chest X-Ray Pneumonia Detection</h1>
            <form method="POST" enctype="multipart/form-data">
                <input type="file" name="file" id="file-input" accept="image/*" required>
                <br>
                <!-- Image preview -->
                <img id="preview" src="#" alt="Image Preview" style="display:none; max-width: 100%; margin-top: 20px; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                <br>
                <button type="submit">Predict</button>
            </form>

            {% if prediction %}
                <div class="prediction">
                    <h2>Prediction:</h2>
                    <p>{{ prediction }}</p>
                </div>
            {% endif %}
        </div>
    </div>

    <script>
        // JS to show live preview of uploaded image
        const fileInput = document.getElementById('file-input');
        const preview = document.getElementById('preview');

        fileInput.addEventListener('change', function(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    preview.src = e.target.result;
                    preview.style.display = 'block';
                }
                reader.readAsDataURL(file);
            } else {
                preview.src = "#";
                preview.style.display = 'none';
            }
        });
    </script>
</body>
</html>
